<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cn.rzhd.wuye.mapper.PropertyFeePayDetailsMapper">
    <sql id="whereSql">
        <where>
            AND HOUSE_INFO_ID = #{houseInfoId} AND CUSTOMER_ID=#{customerId} AND PAY_TIME BETWEEN to_date(#{startDate},'YYYY-MM-DD') and to_date(#{endDate},'YYYY-MM-DD')
        </where>
    </sql>


    <resultMap id="propertyFeePayDetailsMapper" type="cn.rzhd.wuye.bean.PropertyFeePayDetails">
        <id property="propertyFeePayDetails" column="PROPERTY_FEE_PAY_DETAILS_ID"/>
        <result property="houseInfoId" column="HOUSE_INFO_ID"/>
        <result property="clientName" column="CLIENT_NAME"/>
        <result property="costType" column="COST_TYPE"/>
        <result property="payManner" column="PAY_MANNER"/>
        <result property="payMonth" column="PAY_MONTH"/>
        <result property="startDate" column="START_DATE"/>
        <result property="endDate" column="END_DATE"/>
        <result property="payable" column="PAYABLE"/>
        <result property="paidIn" column="PAID_IN"/>
        <result property="voucherNumber" column="VOUCHER_NUMBER"/>
        <result property="invoice" column="INVOICE"/>
        <result property="invoiceNumber" column="INVOICE_NUMBER"/>
        <result property="invoiceNotes" column="INVOICE_NOTES"/>
        <result property="invoiceStatus" column="INVOICE_STATUS"/>
        <result property="collectingCompany" column="COLLECTING_COMPANY"/>
        <result property="collectingAccount" column="COLLECTING_ACCOUNT"/>
        <result property="invoiceCompany" column="INVOICE_COMPANY"/>
        <result property="payTime" column="PAY_TIME"/>
        <result property="carteTime" column="CARTE_TIME"/>
        <result property="updateTime" column="UPDATE_TIME"/>
        <result property="customerId" column="CUSTOMER_ID"/>
    </resultMap>

    <insert id="insert" parameterType="cn.rzhd.wuye.bean.PropertyFeePayDetails">
        INSERT INTO T_PROPERTY_FEE_PAY_DETAILS (PROPERTY_FEE_PAY_DETAILS_ID,
                                                HOUSE_INFO_ID,
                                                CLIENT_NAME,
                                                COST_TYPE,
                                                PAY_MANNER,
                                                PAY_MONTH,
                                                START_DATE,
                                                END_DATE,
                                                PAYABLE,
                                                PAID_IN,
                                                VOUCHER_NUMBER,
                                                INVOICE,
                                                INVOICE_NUMBER,
                                                INVOICE_NOTES,
                                                INVOICE_STATUS,
                                                COLLECTING_COMPANY,
                                                COLLECTING_ACCOUNT,
                                                INVOICE_COMPANY,
                                                PAY_TIME,
                                                CARTE_TIME,
                                                UPDATE_TIME,
                                                CUSTOMER_ID)
                VALUES (#{propertyFeePayDetails},#{houseInfoId},#{clientName},#{costType},#{payManner},
                        #{payMonth},#{startDate},#{endDate},#{payable},#{paidIn},#{voucherNumber},#{invoice},
                        #{invoiceNumber},#{invoiceNotes},#{invoiceStatus},#{collectingCompany},#{collectingAccount},
                        #{invoiceCompany},#{payTime},#{carteTime},#{updateTime},#{customerId}
                        )

    </insert>


    <select id="queryAll" parameterType="cn.rzhd.wuye.vo.query.PropertyFeePayDetailsQuery"
            resultMap="propertyFeePayDetailsMapper">
        SELECT PROPERTY_FEE_PAY_DETAILS_ID,
        HOUSE_INFO_ID,
        CLIENT_NAME,
        COST_TYPE,
        PAY_MANNER,
        PAY_MONTH,
        START_DATE,
        END_DATE,
        PAYABLE,
        PAID_IN,
        VOUCHER_NUMBER,
        INVOICE,
        INVOICE_NUMBER,
        INVOICE_NOTES,
        INVOICE_STATUS,
        COLLECTING_COMPANY,
        COLLECTING_ACCOUNT,
        INVOICE_COMPANY,
        PAY_TIME,
        CARTE_TIME,
        UPDATE_TIME,
        CUSTOMER_ID
        FROM T_PROPERTY_FEE_PAY_DETAILS
        <include refid="whereSql"/>
    </select>
</mapper>